{"version":3,"sources":["components/Search.js","components/AddNew.js","components/PhoneListItem.js","components/PhoneList.js","components/InfoMessage.js","services/phoneList.js","App.js","index.js"],"names":["Search","props","value","search","onChange","handleSearch","AddNew","onSubmit","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","PhoneListItem","person","name","number","onClick","handleDelete","id","PhoneList","persons","map","toUpperCase","includes","InfoMessage","message","className","alertType","url","getAllPersons","axios","get","then","response","data","App","useState","setPersons","setNewName","setNewNumber","setSearch","alert","setAlert","useEffect","initialNumbers","createNewAlert","setTimeout","event","target","preventDefault","updatedPerson","newPerson","console","log","some","find","put","catch","error","post","createNewPerson","concat","window","confirm","delete","deletePerson","filter","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.86ec0194.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Search = (props) => {\r\n  return <input value={props.search} onChange={props.handleSearch} />\r\n}\r\n\r\nexport default Search\r\n","import React from \"react\"\r\n\r\nconst AddNew = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n        number:{\" \"}\r\n        <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddNew\r\n","import React from \"react\"\r\n\r\nconst PhoneListItem = (props) => {\r\n  return (\r\n    <li key={props.person.name}>\r\n      <span>\r\n        {props.person.name} {props.person.number}\r\n      </span>\r\n      <span>\r\n        <button\r\n          onClick={() => props.handleDelete(props.person.id, props.person.name)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </span>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PhoneListItem\r\n","import React from \"react\"\r\nimport PhoneListItem from \"./PhoneListItem\"\r\n\r\nconst PhoneList = (props) => {\r\n  return (\r\n    <ul>\r\n      {props.persons.map((person) => {\r\n        if (person.name.toUpperCase().includes(props.search.toUpperCase())) {\r\n          return (\r\n            <PhoneListItem person={person} handleDelete={props.handleDelete} />\r\n          )\r\n        }\r\n        return null\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default PhoneList\r\n","import React from \"react\"\r\n\r\nconst InfoMessage = (props) => {\r\n  if (props.message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className={props.alertType}>\r\n      <span>{props.message}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoMessage\r\n","import axios from \"axios\"\r\n\r\nconst url = \"/api/persons\"\r\n\r\nconst getAllPersons = () => {\r\n  const request = axios.get(url)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst createNewPerson = (newPerson) => {\r\n  const request = axios.post(url, newPerson)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${url}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst updatePerson = (updatedPerson) => {\r\n  const request = axios.put(`${url}/${updatedPerson.id}`, updatedPerson)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst getPerson = (id) => {\r\n  const request = axios.get(`${url}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport { getAllPersons, createNewPerson, deletePerson, updatePerson, getPerson }\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Search from \"./components/Search\"\r\nimport AddNew from \"./components/AddNew\"\r\nimport PhoneList from \"./components/PhoneList\"\r\nimport InfoMessage from \"./components/InfoMessage\"\r\nimport {\r\n  getAllPersons,\r\n  createNewPerson,\r\n  deletePerson,\r\n  updatePerson,\r\n} from \"./services/phoneList\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState(\"\")\r\n  const [newNumber, setNewNumber] = useState(\"\")\r\n  const [search, setSearch] = useState(\"\")\r\n  const [alert, setAlert] = useState({})\r\n\r\n  useEffect(() => {\r\n    getAllPersons().then((initialNumbers) => setPersons(initialNumbers))\r\n  }, [])\r\n\r\n  const createNewAlert = (alert) => {\r\n    setAlert({\r\n      message: alert[0],\r\n      type: alert[1],\r\n    })\r\n    setTimeout(() => {\r\n      setAlert({})\r\n    }, 5000)\r\n  }\r\n\r\n  const handleDelete = (id, name) => {\r\n    window.confirm(`Deleting ${name}. Are You Sure?`)\r\n    deletePerson(id).then(\r\n      setPersons(persons.filter((person) => person.id !== id))\r\n    )\r\n    createNewAlert([`You deleted ${name}`, \"alert danger\"])\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    let newPerson = {\r\n      name: newName,\r\n      number: newNumber,\r\n    }\r\n\r\n    console.log(\r\n      \"is array includes name:\",\r\n      persons.some((person) => person.name === newName)\r\n    )\r\n\r\n    if (persons.some((person) => person.name === newName)) {\r\n      const person = persons.find((person) => person.name === newName)\r\n\r\n      newPerson = { ...person, number: newNumber }\r\n      console.log(\"there is an entry in the database, updating...\")\r\n      updatePerson(newPerson)\r\n        .then((response) => {\r\n          console.log(response)\r\n          getAllPersons().then((initialNumbers) => setPersons(initialNumbers))\r\n          createNewAlert([\r\n            `You Updated the details of ${newPerson.name}`,\r\n            \"alert success\",\r\n          ])\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data)\r\n          createNewAlert([error.response.data.error, \"alert danger\"])\r\n        })\r\n    } else {\r\n      console.log(\"new contact creation\")\r\n\r\n      console.log(newPerson)\r\n\r\n      createNewPerson(newPerson)\r\n        .then((response) => {\r\n          console.log(\"here\")\r\n          console.log(response)\r\n          setPersons(persons.concat(response))\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n          createNewAlert([\r\n            `You created a new record for ${newPerson.name}`,\r\n            \"alert success\",\r\n          ])\r\n        })\r\n        .catch((error) => {\r\n          console.log(error.response.data)\r\n          createNewAlert([error.response.data.error, \"alert danger\"])\r\n        })\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <InfoMessage message={alert.message} alertType={alert.type} />\r\n      <h2>Search</h2>\r\n      <Search search={search} handleSearch={handleSearch} />\r\n      <h2>Add New Record</h2>\r\n      <AddNew\r\n        handleSubmit={handleSubmit}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <PhoneList\r\n        persons={persons}\r\n        search={search}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\"\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}