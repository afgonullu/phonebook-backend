{"version":3,"sources":["components/Search.js","components/AddNew.js","components/PhoneListItem.js","components/PhoneList.js","components/InfoMessage.js","services/phoneList.js","App.js","index.js"],"names":["Search","props","value","search","onChange","handleSearch","AddNew","onSubmit","handleSubmit","newName","handleNameChange","newNumber","handleNumberChange","type","PhoneListItem","person","name","number","onClick","handleDelete","id","PhoneList","persons","map","toUpperCase","includes","InfoMessage","message","className","alertType","url","getAllPersons","axios","get","then","response","data","App","useState","setPersons","setNewName","setNewNumber","setSearch","alert","setAlert","useEffect","initialNumbers","event","target","preventDefault","updatedPerson","newPerson","length","post","createNewPerson","concat","setTimeout","window","confirm","put","catch","error","delete","deletePerson","filter","ReactDOM","render","document","getElementById"],"mappings":"4LAMeA,EAJA,SAACC,GACd,OAAO,uBAAOC,MAAOD,EAAME,OAAQC,SAAUH,EAAMI,gBCctCC,EAfA,SAACL,GACd,OACE,uBAAMM,SAAUN,EAAMO,aAAtB,UACE,yCACQ,uBAAON,MAAOD,EAAMQ,QAASL,SAAUH,EAAMS,mBADrD,UAEU,IACR,uBAAOR,MAAOD,EAAMU,UAAWP,SAAUH,EAAMW,wBAEjD,8BACE,wBAAQC,KAAK,SAAb,uBCQOC,EAjBO,SAACb,GACrB,OACE,+BACE,iCACGA,EAAMc,OAAOC,KADhB,IACuBf,EAAMc,OAAOE,UAEpC,+BACE,wBACEC,QAAS,kBAAMjB,EAAMkB,aAAalB,EAAMc,OAAOK,GAAInB,EAAMc,OAAOC,OADlE,wBALKf,EAAMc,OAAOC,OCcXK,EAfG,SAACpB,GACjB,OACE,6BACGA,EAAMqB,QAAQC,KAAI,SAACR,GAClB,OAAIA,EAAOC,KAAKQ,cAAcC,SAASxB,EAAME,OAAOqB,eAEhD,cAAC,EAAD,CAAeT,OAAQA,EAAQI,aAAclB,EAAMkB,eAGhD,WCCAO,EAXK,SAACzB,GACnB,OAAsB,OAAlBA,EAAM0B,QACD,KAGP,qBAAKC,UAAW3B,EAAM4B,UAAtB,SACE,+BAAO5B,EAAM0B,a,gBCNbG,EAAM,eAENC,EAAgB,WAEpB,OADgBC,IAAMC,IAAIH,GACXI,MAAK,SAACC,GAAD,OAAcA,EAASC,SCqH9BC,EA9GH,WAAO,IAAD,EACcC,mBAAS,IADvB,mBACThB,EADS,KACAiB,EADA,OAEcD,mBAAS,IAFvB,mBAET7B,EAFS,KAEA+B,EAFA,OAGkBF,mBAAS,IAH3B,mBAGT3B,EAHS,KAGE8B,EAHF,OAIYH,mBAAS,IAJrB,mBAITnC,EAJS,KAIDuC,EAJC,OAKUJ,mBAAS,IALnB,mBAKTK,EALS,KAKFC,EALE,KAOhBC,qBAAU,WACRd,IAAgBG,MAAK,SAACY,GAAD,OAAoBP,EAAWO,QACnD,IA6EH,OACE,gCACE,2CACA,cAAC,EAAD,CAAanB,QAASgB,EAAMhB,QAASE,UAAWc,EAAM9B,OACtD,wCACA,cAAC,EAAD,CAAQV,OAAQA,EAAQE,aArEP,SAAC0C,GACpBL,EAAUK,EAAMC,OAAO9C,UAqErB,gDACA,cAAC,EAAD,CACEM,aA5De,SAACuC,GDvBN,IAAC/B,ECwBf+B,EAAME,kBDxBSjC,EC0BLP,EDzBIuB,IAAMC,IAAN,UAAaH,EAAb,iBAAyBd,IAC1BkB,MAAK,SAACC,GAAD,OAAcA,EAASC,SCwBtBF,MAAK,SAACnB,GACvB,IDhCgBmC,ECgCZC,EAAY,CACdnC,KAAMP,EACNQ,OAAQN,GAGY,IAAlBI,EAAOqC,QD/CO,SAACD,GAEvB,OADgBnB,IAAMqB,KAAKvB,EAAKqB,GACjBjB,MAAK,SAACC,GAAD,OAAcA,EAASC,QC8CrCkB,CAAgBH,GAAWjB,MAAK,SAACC,GAC/BI,EAAWjB,EAAQiC,OAAOpB,IAC1BK,EAAW,IACXC,EAAa,OAGfG,EAAS,CACPjB,QAAQ,gCAAD,OAAkCwB,EAAUnC,MACnDH,KAAM,kBAER2C,YAAW,WACTZ,EAAS,MACR,OAEHO,EAAS,2BAAQA,GAAR,IAAmB/B,GAAIL,EAAO,GAAGK,KAC1CqC,OAAOC,QAAP,sCACiCP,EAAUnC,KAD3C,qBDrDckC,ECwDDC,EDvDHnB,IAAM2B,IAAN,UAAa7B,EAAb,YAAoBoB,EAAc9B,IAAM8B,GACzChB,MAAK,SAACC,GAAD,OAAcA,EAASC,SCsDbF,MAAK,SAACC,GAC5BJ,IACGG,MAAK,SAACY,GAAD,OAAoBP,EAAWO,MACpCc,OAAM,SAACC,GACNjB,EAAS,CACPjB,QAAQ,GAAD,OAAKwB,EAAUnC,KAAf,mCACPH,KAAM,iBAER2C,YAAW,WACTZ,EAAS,MACR,WAGTA,EAAS,CACPjB,QAAQ,8BAAD,OAAgCwB,EAAUnC,MACjDH,KAAM,kBAER2C,YAAW,WACTZ,EAAS,MACR,UAcHlC,iBArEmB,SAACqC,GACxBP,EAAWO,EAAMC,OAAO9C,QAqEpBU,mBAlEqB,SAACmC,GAC1BN,EAAaM,EAAMC,OAAO9C,QAkEtBO,QAASA,EACTE,UAAWA,IAEb,yCACA,cAAC,EAAD,CACEW,QAASA,EACTnB,OAAQA,EACRgB,aA7Fe,SAACC,EAAIJ,GACxByC,OAAOC,QAAP,mBAA2B1C,EAA3B,oBDXiB,SAACI,GAEpB,OADgBY,IAAM8B,OAAN,UAAgBhC,EAAhB,YAAuBV,IACxBc,MAAK,SAACC,GAAD,OAAcA,EAASC,QCUzC2B,CAAa3C,GAAIc,KACfK,EAAWjB,EAAQ0C,QAAO,SAACjD,GAAD,OAAYA,EAAOK,KAAOA,OAEtDwB,EAAS,CAAEjB,QAAQ,eAAD,OAAiBX,GAAQH,KAAM,iBACjD2C,YAAW,WACTZ,EAAS,MACR,YC3BPqB,IAASC,OACL,cAAC,EAAD,IACFC,SAASC,eAAe,W","file":"static/js/main.760aff45.chunk.js","sourcesContent":["import React from \"react\"\r\n\r\nconst Search = (props) => {\r\n  return <input value={props.search} onChange={props.handleSearch} />\r\n}\r\n\r\nexport default Search\r\n","import React from \"react\"\r\n\r\nconst AddNew = (props) => {\r\n  return (\r\n    <form onSubmit={props.handleSubmit}>\r\n      <div>\r\n        name: <input value={props.newName} onChange={props.handleNameChange} />\r\n        number:{\" \"}\r\n        <input value={props.newNumber} onChange={props.handleNumberChange} />\r\n      </div>\r\n      <div>\r\n        <button type=\"submit\">add</button>\r\n      </div>\r\n    </form>\r\n  )\r\n}\r\n\r\nexport default AddNew\r\n","import React from \"react\"\r\n\r\nconst PhoneListItem = (props) => {\r\n  return (\r\n    <li key={props.person.name}>\r\n      <span>\r\n        {props.person.name} {props.person.number}\r\n      </span>\r\n      <span>\r\n        <button\r\n          onClick={() => props.handleDelete(props.person.id, props.person.name)}\r\n        >\r\n          Delete\r\n        </button>\r\n      </span>\r\n    </li>\r\n  )\r\n}\r\n\r\nexport default PhoneListItem\r\n","import React from \"react\"\r\nimport PhoneListItem from \"./PhoneListItem\"\r\n\r\nconst PhoneList = (props) => {\r\n  return (\r\n    <ul>\r\n      {props.persons.map((person) => {\r\n        if (person.name.toUpperCase().includes(props.search.toUpperCase())) {\r\n          return (\r\n            <PhoneListItem person={person} handleDelete={props.handleDelete} />\r\n          )\r\n        }\r\n        return null\r\n      })}\r\n    </ul>\r\n  )\r\n}\r\n\r\nexport default PhoneList\r\n","import React from \"react\"\r\n\r\nconst InfoMessage = (props) => {\r\n  if (props.message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className={props.alertType}>\r\n      <span>{props.message}</span>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default InfoMessage\r\n","import axios from \"axios\"\r\n\r\nconst url = \"/api/persons\"\r\n\r\nconst getAllPersons = () => {\r\n  const request = axios.get(url)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst createNewPerson = (newPerson) => {\r\n  const request = axios.post(url, newPerson)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst deletePerson = (id) => {\r\n  const request = axios.delete(`${url}/${id}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst updatePerson = (updatedPerson) => {\r\n  const request = axios.put(`${url}/${updatedPerson.id}`, updatedPerson)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nconst getPerson = (name) => {\r\n  const request = axios.get(`${url}?name=${name}`)\r\n  return request.then((response) => response.data)\r\n}\r\n\r\nexport { getAllPersons, createNewPerson, deletePerson, updatePerson, getPerson }\r\n","import React, { useState, useEffect } from \"react\"\r\nimport Search from \"./components/Search\"\r\nimport AddNew from \"./components/AddNew\"\r\nimport PhoneList from \"./components/PhoneList\"\r\nimport InfoMessage from \"./components/InfoMessage\"\r\nimport {\r\n  getAllPersons,\r\n  createNewPerson,\r\n  deletePerson,\r\n  getPerson,\r\n  updatePerson,\r\n} from \"./services/phoneList\"\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [newName, setNewName] = useState(\"\")\r\n  const [newNumber, setNewNumber] = useState(\"\")\r\n  const [search, setSearch] = useState(\"\")\r\n  const [alert, setAlert] = useState({})\r\n\r\n  useEffect(() => {\r\n    getAllPersons().then((initialNumbers) => setPersons(initialNumbers))\r\n  }, [])\r\n\r\n  const handleDelete = (id, name) => {\r\n    window.confirm(`Deleting ${name}. Are You Sure?`)\r\n    deletePerson(id).then(\r\n      setPersons(persons.filter((person) => person.id !== id))\r\n    )\r\n    setAlert({ message: `You deleted ${name}`, type: \"alert danger\" })\r\n    setTimeout(() => {\r\n      setAlert({})\r\n    }, 5000)\r\n  }\r\n\r\n  const handleSearch = (event) => {\r\n    setSearch(event.target.value)\r\n  }\r\n\r\n  const handleNameChange = (event) => {\r\n    setNewName(event.target.value)\r\n  }\r\n\r\n  const handleNumberChange = (event) => {\r\n    setNewNumber(event.target.value)\r\n  }\r\n\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault()\r\n\r\n    getPerson(newName).then((person) => {\r\n      let newPerson = {\r\n        name: newName,\r\n        number: newNumber,\r\n      }\r\n\r\n      if (person.length === 0) {\r\n        createNewPerson(newPerson).then((response) => {\r\n          setPersons(persons.concat(response))\r\n          setNewName(\"\")\r\n          setNewNumber(\"\")\r\n        })\r\n\r\n        setAlert({\r\n          message: `You created a new record for ${newPerson.name}`,\r\n          type: \"alert success\",\r\n        })\r\n        setTimeout(() => {\r\n          setAlert({})\r\n        }, 5000)\r\n      } else {\r\n        newPerson = { ...newPerson, id: person[0].id }\r\n        window.confirm(\r\n          `You are updating details of ${newPerson.name}. Are You Sure?`\r\n        )\r\n        updatePerson(newPerson).then((response) => {\r\n          getAllPersons()\r\n            .then((initialNumbers) => setPersons(initialNumbers))\r\n            .catch((error) => {\r\n              setAlert({\r\n                message: `${newPerson.name} doesn't exist on the database.`,\r\n                type: \"alert danger\",\r\n              })\r\n              setTimeout(() => {\r\n                setAlert({})\r\n              }, 5000)\r\n            })\r\n        })\r\n        setAlert({\r\n          message: `You Updated the details of ${newPerson.name}`,\r\n          type: \"alert success\",\r\n        })\r\n        setTimeout(() => {\r\n          setAlert({})\r\n        }, 5000)\r\n      }\r\n    })\r\n  }\r\n\r\n  return (\r\n    <div>\r\n      <h1>Phonebook</h1>\r\n      <InfoMessage message={alert.message} alertType={alert.type} />\r\n      <h2>Search</h2>\r\n      <Search search={search} handleSearch={handleSearch} />\r\n      <h2>Add New Record</h2>\r\n      <AddNew\r\n        handleSubmit={handleSubmit}\r\n        handleNameChange={handleNameChange}\r\n        handleNumberChange={handleNumberChange}\r\n        newName={newName}\r\n        newNumber={newNumber}\r\n      />\r\n      <h2>Numbers</h2>\r\n      <PhoneList\r\n        persons={persons}\r\n        search={search}\r\n        handleDelete={handleDelete}\r\n      />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from \"./App\"\n\nReactDOM.render(\n    <App />,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}